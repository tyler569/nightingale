.TH SYMLINKAT 2 "2025" "Nightingale" "Nightingale System Calls"
.SH NAME
symlinkat \- make a new symbolic link relative to a directory file descriptor
.SH SYNOPSIS
.nf
.B #include <unistd.h>
.PP
.BI "int symlinkat(const char *" topath ", int " newfdat ","
.BI "              const char *" newpath ");"
.fi
.SH DESCRIPTION
.B symlinkat()
creates a symbolic link named
.I newpath
which contains the string
.IR topath .
.PP
Symbolic links are interpreted at run time as if the contents of the link
had been substituted into the path being followed to find a file or directory.
.PP
Symbolic links may contain
.I ..
path components, which (if used at the start of the link) refer to the
parent directories of that in which the link resides.
.PP
A symbolic link (also known as a soft link) may point to an existing file or
to a nonexistent one; the latter case is known as a dangling link.
.PP
If
.I newpath
is an absolute path, then
.I newfdat
is ignored.
If
.I newpath
is a relative path, then it is interpreted relative to the directory
referred to by the file descriptor
.IR newfdat .
.PP
The permissions of a symbolic link are irrelevant; the ownership is ignored
when following the link.
.SH RETURN VALUE
On success, zero is returned.
On error, \-1 is returned, and
.I errno
is set to indicate the error.
.SH ERRORS
.TP
.B EACCES
Write access to the directory containing
.I newpath
is denied, or one of the directories in the path prefix of
.I newpath
did not allow search permission.
.TP
.B EBADF
.I newfdat
is not a valid file descriptor.
.TP
.B EEXIST
.I newpath
already exists.
.TP
.B EFAULT
.I topath
or
.I newpath
points outside the accessible address space.
.TP
.B ENOENT
A directory component in
.I newpath
does not exist or is a dangling symbolic link.
.TP
.B ENAMETOOLONG
.I topath
or
.I newpath
is too long.
.SH SEE ALSO
.BR linkat (2),
.BR readlinkat (2),
.BR unlinkat (2)
