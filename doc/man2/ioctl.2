.TH IOCTL 2 "2025" "Nightingale" "Nightingale System Calls"
.SH NAME
ioctl \- control device
.SH SYNOPSIS
.nf
.B #include <sys/ioctl.h>
.PP
.BI "int ioctl(int " fd ", int " request ", void *" argp ");"
.fi
.SH DESCRIPTION
The
.B ioctl()
system call manipulates the underlying device parameters of special files.
In particular, many operating characteristics of character special files
(e.g., terminals) may be controlled with
.B ioctl()
requests.
.PP
The argument
.I fd
must be an open file descriptor.
.PP
The second argument is a device-dependent request code.
The third argument is an untyped pointer to memory.
It's traditionally
.BI "char *" argp
(from the days before
.B "void *"
was valid C),
and will be so named for this discussion.
.PP
The
.I request
argument and
.I argp
parameter are interpreted by the device driver associated with
.IR fd .
.SH RETURN VALUE
Usually, on success zero is returned.
A few
.B ioctl()
requests use the return value as an output parameter
and return a nonnegative value on success.
On error, \-1 is returned, and
.I errno
is set to indicate the error.
.SH ERRORS
.TP
.B EBADF
.I fd
is not a valid file descriptor.
.TP
.B EINVAL
.I request
or
.I argp
is not valid.
.TP
.B ENOTTY
.I fd
is not associated with a character special device,
or the specified request does not apply to the kind of object that the
file descriptor
.I fd
references.
.SH SEE ALSO
.BR openat (2),
.BR read (2),
.BR write (2)
